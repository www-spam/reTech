<!DOCTYPE html>
<html>
<head><title>재테크</title></head>

<body>
<style>
@import url('https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap');
.darken-image-button:hover{
  filter: brightness(0.7);
}
</style>
  <div style="width: 100%; height: 90px; left: 0px; top: 0px; right: 0px; background: #4A5D4C; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25)"></div>
  <!--글씨-->
  <div style="left: 30px; top: 20px; position: absolute; color: #FFF2AE; font-size: 55px; font-family: 'Nanum Gothic', sans-serif; font-weight: 700; word-wrap: break-word">재(再)테크
  </div>

  <div>
    <a href="{% url 'logout' %}"><button class="darken-image-button" type="button" style="background: none; border: none; padding: 0; right: 30px; top: 21px; position: absolute; "><img src="https://i.imgur.com/t2O7gHQ.png" title="로그아웃" alt="로그아웃" style= "width: 65px; height: 65px; cursor: pointer;" /></a></button>
  </div>

<!--z-index: 0; 다른 요소보다 뒤로 보내기-->
  <div style="width: 1010px; height: 510px; left: 310px; top: 170px; z-index: 0; position: absolute; border: 5px solid #4A5D4C; /* 테두리 스타일 지정 */ border-radius: 10px;"></div>

  <div id="map" style="width: 1000px; height: 500px; left: 320px; top: 180px; z-index: 0; position: absolute;"></div>
  <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=b1f7314c2e46a186abb6a8e391b620e3"></script>

  <script>
    var container = document.getElementById('map');
    var options = {
       center: new kakao.maps.LatLng(33.450701, 126.570667),
       level: 3
    };
    var map = new kakao.maps.Map(container, options);



    var imageSrc = 'https://i.imgur.com/0lVyPVQ.png', // 마커이미지의 주소입니다    
    imageSize = new kakao.maps.Size(32, 50), // 마커이미지의 크기입니다
    imageOption = {offset: new kakao.maps.Point(27, 69)}; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.
    var markerImg = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption);



if (navigator.geolocation) {
    
    // GeoLocation을 이용해서 접속 위치를 얻어옵니다
    navigator.geolocation.getCurrentPosition(function(position) {
        
        var lat = position.coords.latitude, // 위도
            lon = position.coords.longitude; // 경도
        
        var locPosition = new kakao.maps.LatLng(lat, lon), // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다
            message = '<div style="padding:5px;">현 위치</div>'; // 인포윈도우에 표시될 내용입니다
        
        // 마커와 인포윈도우를 표시합니다
        menowMarker(locPosition, message);
            
      });
    
} else { // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다
    
    var locPosition = new kakao.maps.LatLng(33.450701, 126.570667),    
        message = 'geolocation을 사용할수 없어요..'
        
    menowMarker(locPosition, message);
}

// 지도에 마커와 인포윈도우를 표시하는 함수입니다
function menowMarker(locPosition, message) {

    // 마커를 생성합니다
    var marker = new kakao.maps.Marker({  
        map: map, 
        position: locPosition,
        image: markerImg
    }); 
    
    var iwContent = message, // 인포윈도우에 표시할 내용
        iwRemoveable = true;

    // 인포윈도우를 생성합니다
    var infowindow = new kakao.maps.InfoWindow({
        content : iwContent,
        removable : iwRemoveable
    });
    
    // 인포윈도우를 마커위에 표시합니다 
    infowindow.open(map, marker);
    
    // 지도 중심좌표를 접속위치로 변경합니다
    map.setCenter(locPosition);      
}    



   </script>
</div>

<div> <!--전체-->
  <div class="background" style="width: 201px; height: 81px; left: 300px; top: 738px; position: absolute; background: #E4CCAA; border-radius: 50px; cursor: pointer;" onclick="handleButtonClick('리사이클링')"></div> <!--뒷 배경-->
  <div class="background" style="width: 201px; height: 81px; left: 300px; top: 730px; position: absolute; background: #F4DAB4; border-radius: 50px; cursor: pointer;" onclick="handleButtonClick('리사이클링')"></div> <!--윗 배경-->
  <div class="text" class="text darken-image-button" style="width: 175px; height: 55px; left: 313px; top: 760px; position: absolute; text-align: center; color: black; font-size: 22px; font-family: 'Nanum Gothic', sans-serif; font-weight: 500; word-wrap: break-word; cursor: pointer;" onclick="handleButtonClick('리사이클링')">리사이클링</div> <!--글씨-->
</div>

<div> 
  <div style="width: 201px; height: 81px; left: 580px; top: 738px; position: absolute; background: #E3DABE; border-radius: 50px; cursor: pointer;" onclick="handleButtonClick('제로웨이스트')"></div> 
  <div style="width: 201px; height: 81px; left: 580px; top: 730px; position: absolute; background: #F2E9CC; border-radius: 50px; cursor: pointer;" onclick="handleButtonClick('제로웨이스트')"></div> 
  <div style="width: 175px; height: 55px; left: 593px; top: 760px; position: absolute; text-align: center; color: black; font-size: 22px; font-family: 'Nanum Gothic', sans-serif; font-weight: 500; word-wrap: break-word; cursor: pointer;" onclick="handleButtonClick('제로웨이스트')">제로웨이스트</div> 
</div>

<div>
  <div style="width: 201px; height: 81px; left: 860px; top: 738px; position: absolute; background: #AEB794; border-radius: 50px; cursor: pointer;" onclick="handleButtonClick('네프론')"></div>
  <div style="width: 201px; height: 81px; left: 860px; top: 730px; position: absolute; background: #BEC8A3; border-radius: 50px; cursor: pointer;" onclick="handleButtonClick('네프론')"></div>
  <div style="width: 175px; height: 55px; left: 873px; top: 760px; position: absolute; text-align: center; color: black; font-size: 22px; font-family: 'Nanum Gothic', sans-serif; font-weight: 500; word-wrap: break-word; cursor: pointer;" onclick="handleButtonClick('네프론')">네프론</div>
</div>

<div>
  <div style="width: 201px; height: 81px; left: 1140px; top: 738px; position: absolute; background: #8C9D70; border-radius: 50px; cursor: pointer;" onclick="handleButtonClick('재활용센터')"></div>
  <div style="width: 201px; height: 81px; left: 1140px; top: 730px; position: absolute; background: #9AAC7B; border-radius: 50px; cursor: pointer;" onclick="handleButtonClick('재활용센터')"></div>
  <div style="width: 175px; height: 55px; left: 1153px; top: 760px; position: absolute; text-align: center; color: black; font-size: 22px; font-family: 'Nanum Gothic', sans-serif; font-weight: 500; word-wrap: break-word; cursor: pointer;" onclick="handleButtonClick('재활용센터')">재활용센터</div>
</div>

<script>
function handleButtonClick(name) {
    if (name === '리사이클링') {
        window.location.href = "{% url 'recycling_market' %}";
    } else if (name === '제로웨이스트') {
        window.location.href = "{% url '0_waste' %}";
    } else if (name === '네프론') {
        window.location.href = "{% url 'nephron' %}";
    } else if (name === '재활용센터') {
        window.location.href = "{% url 'recycling_center' %}";
    }
}
</script>

<div style="position: fixed; left: 20px; bottom: 18px;">
    <a href="{% url 'mini_game' %}"><button class= "darken-image-button" type="button" style="background: none; border: none; padding: 0;"><img style="width: 140px; height: 120px; cursor: pointer;" title= "미니게임" alt="미니게임" src="https://i.imgur.com/j8qIp8G.png" /></button></a>
</div>
<div style="position: fixed; right: 20px; bottom: 20px;"> 
    <a href="{% url 'chatbot' %}"><button class= "darken-image-button" type="button" id="show" style="background: none; border: none; padding: 0;"><img style="width: 100px; height: 100px; cursor: pointer;" title= "챗봇" alt="챗봇" src="https://i.imgur.com/ce1hnH5.png" /></button></a>
</div>
<div style="position: fixed; right: 20px; bottom: 250px;"> 
  <a href="{% url 'community' %}"><button class= "darken-image-button" type="button" id="show" style="background: none; border: none; padding: 0;"><img style="width: 100px; height: 100px; cursor: pointer;" title= "후기" alt="후기" src="https://i.imgur.com/EoRwWHj.png" /></button></a>
</div>
<div style="position: fixed; right: 28px; bottom: 140px;"> 
  <a href="../survey/survey"><button class= "darken-image-button" type="button" id="show" style="background: none; border: none; padding: 0;"><img style="width: 85px; height: 85px; cursor: pointer;" title= "만족도 조사" alt="만족도 조사" src="https://i.imgur.com/FNWa0P0.png" /></button></a>
</div>


</body>
</html>